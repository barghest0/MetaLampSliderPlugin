(()=>{"use strict";const e=class{constructor(e={}){this.subscribers=e}subscribe(e,t){this.subscribers[e]=this.subscribers[e]||[],this.subscribers[e].push(t)}unsubscribe(e,t){this.subscribers[e]=this.subscribers[e].filter((e=>t!==e))}notify(e,...t){this.subscribers[e].forEach((e=>{e(...t)}))}getSubscribers(){return this.subscribers}},t=function(e){this.thumbs[e].style[this.view.offsetDirection]=`${this.getOffset()[e]}%`},i={min:0,max:100,step:10,value:[0],isRange:!1,direction:"horizontal",hasFill:!0,hasTips:!0,hasScale:!0,isDecimal:!1,decimalPlaces:0,panel:!1},s=100,a=function(e){const t=+!e,i=0===e,s=this.view.getValue()[0]>this.view.getValue()[1],a=this.view.getValue()[1]<this.view.getValue()[0];return s&&i||a&&!i?t:e};var l,n,r,h,c;!function(e){e.updateThumb="UpdateThumb",e.updateThumbAfterTrackClick="UpdateThumbAfterTrackClick",e.updateFill="UpdateFill",e.updateThumbView="UpdateThumbView",e.updateFillView="UpdateFillView",e.updateParams="UpdateParams",e.updatePanelValues="UpdatePanelValues"}(l||(l={})),function(e){e.horizontal="horizontal",e.vertical="vertical"}(n||(n={})),function(e){e.min="min",e.max="max",e.step="step",e.value="value",e.isRange="isRange",e.direction="direction",e.hasFill="hasFill",e.hasTips="hasTips",e.hasScale="hasScale",e.isDecimal="isDecimal",e.decimalPlaces="decimalPlaces"}(r||(r={})),function(e){e.left="left",e.top="top"}(h||(h={})),function(e){e.width="width",e.height="height"}(c||(c={}));const u=function(e){const t=this.thumbs[e],i=t=>{!function(e,t,i){const{direction:s,isRange:a,hasFill:r}=t.view.getParams(),{DOMroot:h}=t.view,c=t.view.getSize(),u=s===n.horizontal?e.pageX:e.pageY,d=t.view.calculateCursorOffset(u,s,h,c),o=a?t.validateCollision(i):i;t.notify(l.updateThumb,o,d),r&&t.notify(l.updateFill)}(t,this,e)},s=e=>{e.preventDefault(),e.stopPropagation(),document.addEventListener("pointermove",i)};t.addEventListener("pointerdown",s),t.addEventListener("touchstart",s),document.addEventListener("pointerup",(()=>{document.removeEventListener("pointermove",i)}))},d=class extends e{constructor(e){super(),this.view=e,this.offset=[],this.activeStance=0,this.thumbs=[],this.updateThumbStyle=t.bind(this),this.validateCollision=a.bind(this),this.dragAndDropThumb=u.bind(this)}setOffset(e,t){this.offset[e]=t}getOffset(){return this.offset}renderThumb(e){const t=document.createElement("div");t.classList.add("slider__thumb"),t.classList.add(`js-slider__thumb-${e}`),t.classList.add(`slider__thumb-${e}`),this.thumbs.push(t),this.view.DOMroot.appendChild(t),this.updateThumbStyle(e)}},o=[3,5,7,11];function m(e,t){for(const i of t)if(e%i==0)return i;return m(e-1,t)}const p=function(e,t,i,a){const l=Math.round((t-e)/i+1),r=l-1,h=m(r,o);let c=Math.max(Math.floor(r/h),1);c=c<15?Math.min(c,h):c;const u=Math.abs(t-e),d=Math.ceil(l/c),p=d-1,f=Math.floor(u/i)>d?Math.round(Math.round(u/i)/p)*i:i;return{values:new Array(d).fill(null).map(((i,s)=>{let a=e+f*s;return a=Math.min(a,t),s===p&&(a=t),Number(a.toFixed(1))})),offsets:new Array(d).fill(null).map(((e,t)=>{let i=Math.abs(f/u)*t*s;return i=Math.min(s,i),t===p&&(i=s),a===n.vertical&&(i=Math.abs(s-i)),Number(i.toFixed(1))}))}},f=function(e,t,i,s){const a=p(i,t,e,s);for(let e=0;e<a.values.length;e+=1){const t=document.createElement("div");t.classList.add("slider__scale-mark"),t.classList.add(`slider__scale-mark_${s}`);const i=a.offsets[e];t.style[this.view.offsetDirection]=`${i}%`;const l=document.createElement("div");l.classList.add("slider__scale-number"),l.classList.add(`slider__scale-number_${s}`),l.innerHTML=a.values[e].toString(),t.appendChild(l),this.scale.appendChild(t)}},b=function(){this.view.getParams().isRange?(this.fill.style[this.view.offsetDirection]=`${this.getState().fillOffset}%`,this.fill.style[this.view.fillDirection]=`${this.getState().fillSize}%`):this.fill.style[this.view.fillDirection]=`${this.getState().fillSize}%`},v=class extends e{constructor(e){super(),this.fill=document.querySelector(".slider__fill"),this.view=e,this.state={fillOffset:0,fillSize:0},this.updateFillStyle=b.bind(this)}setState({fillOffset:e,fillSize:t}){this.state.fillOffset=e,this.state.fillSize=t}getState(){return this.state}renderFill(e){const t=document.createElement("div");t.classList.add("slider__fill"),t.classList.add("js-slider__fill"),t.classList.add(`slider__fill_${e}`),this.fill=t,this.view.DOMroot.appendChild(t),this.updateFillStyle()}},w=class extends e{constructor(e){super(),this.view=e,this.track=document.querySelector(".slider__track")}renderTrack(e){const t=document.createElement("div");t.classList.add("slider__track"),t.classList.add("js-slider__track"),t.classList.add(`slider__track_${e}`),this.track=t,this.view.DOMroot.appendChild(t)}clickTrack(){this.view.DOMroot.addEventListener("pointerdown",(e=>function(e,t){const{direction:i,hasFill:s}=t.view.getParams(),{DOMroot:a}=t.view,r=t.view.getSize(),h=i===n.horizontal?e.pageX:e.pageY,c=t.view.calculateCursorOffset(h,i,a,r);t.notify(l.updateThumbAfterTrackClick,c),s&&t.notify(l.updateFill)}(e,this)))}},g=function(e){this.tips[e].style[this.view.offsetDirection]=`${this.getOffset()[e]}%`,this.tips[e].innerHTML=this.view.getValue()[e].toFixed(this.view.getParams().decimalPlaces)},S=class extends e{constructor(e){super(),this.view=e,this.offset=[],this.tips=[],this.updateTipStyle=g.bind(this)}setOffset(e,t){this.offset[e]=t}getOffset(){return this.offset}renderTip(e,t){const i=document.createElement("div");i.classList.add("slider__tip"),i.classList.add(`js-slider__tip-${e}`),i.classList.add(`slider__tip-${e}`),i.classList.add(`slider__tip_${t}`),this.tips.push(i),this.view.DOMroot.appendChild(i),this.updateTipStyle(e)}},V="text-label",P="checkbox-label",T="checkbox",O="number",F=function(e){const t=e.target;this.view.getParams().direction=t.checked?n.vertical:n.horizontal,this.notify(l.updateParams,this.view.getParams())},D=function(e,t){const i=e.target,{value:s}=i,a=i.type===O;this.view.getParams()[t]=a?Number(s):i.checked,this.notify(l.updateParams,this.view.getParams())},M=function(e,t){const i=e.target,{value:s}=i;this.view.getParams().value[t]=Number(s),this.notify(l.updateParams,this.view.getParams())},L=function(){this.minValueInput.addEventListener("change",(e=>D.call(this,e,r.min))),this.maxValueInput.addEventListener("change",(e=>D.call(this,e,r.max))),this.firstValueInput.addEventListener("change",(e=>M.call(this,e,0))),this.secondValueInput.addEventListener("change",(e=>M.call(this,e,1))),this.isVertical.addEventListener("change",(e=>F.call(this,e))),this.decimalPlacesInput.addEventListener("change",(e=>D.call(this,e,r.decimalPlaces))),this.stepInput.addEventListener("change",(e=>D.call(this,e,r.step))),this.isRange.addEventListener("change",(e=>D.call(this,e,r.isRange))),this.hasFill.addEventListener("change",(e=>D.call(this,e,r.hasFill))),this.hasTips.addEventListener("change",(e=>D.call(this,e,r.hasTips))),this.hasScale.addEventListener("change",(e=>D.call(this,e,r.hasScale))),this.isDecimal.addEventListener("change",(e=>D.call(this,e,r.isDecimal)))},y=function(){this.minValueInput=this.panel.querySelector(".js-min-value"),this.maxValueInput=this.panel.querySelector(".js-max-value"),this.firstValueInput=this.panel.querySelector(".js-first-value"),this.secondValueInput=this.panel.querySelector(".js-second-value"),this.decimalPlacesInput=this.panel.querySelector(".js-decimal-places"),this.stepInput=this.panel.querySelector(".js-step"),this.isRange=this.panel.querySelector(".js-is-range"),this.isVertical=this.panel.querySelector(".js-is-vertical"),this.hasFill=this.panel.querySelector(".js-has-fill"),this.hasTips=this.panel.querySelector(".js-has-tips"),this.hasScale=this.panel.querySelector(".js-has-scale"),this.isDecimal=this.panel.querySelector(".js-is-decimal")},_=function(){const{min:e,max:t,value:i,isRange:s,step:a,direction:l,hasFill:r,hasTips:h,hasScale:c,decimalPlaces:u,isDecimal:d}=this.view.getParams();this.minValueInput.value=e.toString(),this.maxValueInput.value=t.toString(),this.decimalPlacesInput.value=u.toString(),s?(this.firstValueInput.value=i[0].toString(),this.secondValueInput.value=i[1].toString(),this.secondValueInput.disabled=!1):(this.firstValueInput.value=i[0].toString(),this.secondValueInput.disabled=!0),this.stepInput.value=a.toString(),this.isRange.checked=s,this.isVertical.checked=l===n.vertical,this.hasFill.checked=r,this.hasTips.checked=h,this.hasScale.checked=c,this.isDecimal.checked=d},k=function(e,t,i,s,a){const l=document.createElement("div");l.classList.add("custom");const n=document.createElement("label");n.classList.add(s);const r=document.createElement("input");r.type=t,r.classList.add(i),r.classList.add(`js-${i}`),n.innerHTML=e,a.appendChild(n),t===T?(n.appendChild(r),n.appendChild(l)):(n.appendChild(l),l.appendChild(r))},z=function(e){const t=document.createElement("div");t.classList.add("slider-panel"),t.classList.add("js-slider-panel"),k("Min Value",O,"min-value",V,t),k("Max Value",O,"max-value",V,t),k("First Value",O,"first-value",V,t),k("Second Value",O,"second-value",V,t),k("Step",O,"step",V,t),k("Decimal Places",O,"decimal-places",V,t);const i=document.createElement("div");i.classList.add("checkbox-panel"),k("Range",T,"is-range",P,i),k("Vertical",T,"is-vertical",P,i),k("Fill",T,"has-fill",P,i),k("Tips",T,"has-tips",P,i),k("Scale",T,"has-scale",P,i),k("Decimal",T,"is-decimal",P,i),e.appendChild(t),t.appendChild(i)},x=class extends e{constructor(e){super(),this.view=e,this.panel=document.querySelector(".slider-panel"),this.minValueInput=document.querySelector(".js-min-value"),this.maxValueInput=document.querySelector(".js-max-value"),this.firstValueInput=document.querySelector(".js-first-value"),this.secondValueInput=document.querySelector(".js-second-value"),this.decimalPlacesInput=document.querySelector(".js-decimal-places"),this.stepInput=document.querySelector(".js-step"),this.isRange=document.querySelector(".js-is-range"),this.isVertical=document.querySelector(".js-is-vertical"),this.hasFill=document.querySelector(".js-has-fill"),this.hasTips=document.querySelector(".js-has-tips"),this.hasScale=document.querySelector(".js-has-scale"),this.isDecimal=document.querySelector(".js-is-decimal"),this.initializePanelsParams=_.bind(this),this.initializeInputs=y.bind(this),this.addInputListeners=L.bind(this),this.renderPanel=z.bind(this)}initializePanel(e){this.panel=e.querySelector(".slider-panel"),this.initializeInputs(),this.initializePanelsParams(),this.addInputListeners()}},C=function(e){this.offsetDirection=e===n.horizontal?h.left:h.top,this.fillDirection=e===n.horizontal?c.width:c.height},E=function(e,t,i,a){return t===n.horizontal?(e-i.offsetLeft)/a*s:(e-i.offsetTop)/a*s},I=class extends e{constructor(e){super(),this.DOMroot=e,this.thumbView=new d(this),this.trackView=new w(this),this.scaleView=new class{constructor(e){this.view=e,this.scale=document.querySelector(".slider__scale"),this.renderScaleMarks=f.bind(this)}renderScale(e){const t=document.createElement("div");t.classList.add("slider__scale"),t.classList.add("js-slider__scale"),t.classList.add(`slider__scale_${e}`),this.scale=t,this.view.DOMroot.appendChild(t)}}(this),this.fillView=new v(this),this.tipView=new S(this),this.panelView=new x(this),this.params=i,this.size=0,this.offsetDirection=h.left,this.fillDirection=c.width,this.prepareDirectionForInteraction=C.bind(this),this.calculateCursorOffset=E.bind(this)}setParams(e){this.params=e}setParam(e,t){this.params[e]=t}setSize(e){this.size=e}getParams(){return this.params}getSize(){return this.size}setValue(e,t){this.params.value[e]=t}getValue(){return this.params.value}},j=function(e){const{direction:t}=this.getParams();return t===n.horizontal?e:100-e},q=function(e){const{min:t,max:i,direction:s}=this.getParams();this.getOffset()[e]>100&&(this.setOffset(e,100),this.setValue(e,s===n.horizontal?i:t)),this.getOffset()[e]<0&&(this.setOffset(e,0),this.setValue(e,s===n.horizontal?t:i))},R=function({min:e,max:t,value:i,decimalPlaces:s,step:a,isRange:l,direction:n,hasFill:r,hasTips:h,hasScale:c,isDecimal:u,panel:d,onChange:o}){const m=i,p=function(e,t,i){let s=Math.min(Math.abs(t-i),Math.abs(e));return 0===s&&(s=1),s}(a,e,t),f=function(e,t,i){return Math.min(t-i,e)}(e,t,p),b=function(e,t,i){const s=Math.min(e,t);return i?s:0}(s,3,u);m[0]=function(e,t,i){const s=e;return s[0]=Math.max(t,s[0]),s[0]=Math.min(i,s[0]),s[0]}(m,e,t),l&&(1===m.length&&m.push(m[0]),m[1]=function(e,t,i){const s=e;return s[1]=Math.max(t,e[1]),s[1]=Math.min(i,e[1]),s[1]=Math.max(s[0],s[1]),s[1]}(m,e,t));const v={min:f,max:t,step:p,value:m,decimalPlaces:b,isDecimal:u,isRange:l,direction:n,hasFill:r,hasTips:h,hasScale:c,panel:d};return o&&(v.onChange=o),v},A=class extends e{constructor(e){super(),this.DOMroot=e,this.params=i,this.thumbsOffset=[],this.fillState={fillOffset:0,fillSize:0},this.size=0,this.endsValidation=q.bind(this),this.prepareOffset=j.bind(this),this.validateParams=R.bind(this)}setParams(e){this.params=this.validateParams(e)}updateParams(e){this.params=this.validateParams(e),this.notify(l.updateParams,this.getParams())}setParam(e,t){this.params[e]=t}getParams(){return this.params}setSize(e){this.size=e}getSize(){return this.size}setValue(e,t){const{decimalPlaces:i}=this.params;this.params.value[e]=Number(t.toFixed(i))}getValue(){const{value:e}=this.params;return e}setOffset(e,t){this.thumbsOffset[e]=t}getOffset(){return this.thumbsOffset}calculateOffset(e){const{min:t,max:i,value:a}=this.params;return this.prepareOffset((a[e]-t)/((i-t)/s))}updateThumb(e,t){const i=this.prepareOffset(t),s=this.calculateStepPercent(),a=Math.round(i/s)*s;this.setValue(e,this.calculateValue(a,s)),this.setOffset(e,this.calculateOffset(e)),this.endsValidation(e),this.notify(l.updateThumbView,e),this.getParams().panel&&this.notify(l.updatePanelValues,e)}updateThumbAfterTrackClick(e){const{fillOffset:t,fillSize:i}=this.getFillState();let s=0;e>i/2+t&&(s=1),s=this.chooseCorrectStance(s),this.updateThumb(s,e)}updateFill(){this.setFillState(this.calculateFillState()),this.notify(l.updateFillView)}setFillState(e){this.fillState=e}getFillState(){return this.fillState}calculateFillState(){return{fillOffset:this.calculateFillOffset(),fillSize:this.calculateFillSize()}}chooseCorrectStance(e){const{isRange:t,direction:i}=this.getParams();return i===n.vertical?Number(!e):t?e:0}calculateFillSize(){const{isRange:e}=this.params;return e?this.calculateBasedOnDirection(this.thumbsOffset[0],this.thumbsOffset[1]):this.prepareOffset(this.thumbsOffset[0])}calculateBasedOnDirection(e,t){const{direction:i}=this.getParams();return i===n.horizontal?t-e:e-t}calculateFillOffset(){const{isRange:e,direction:t}=this.params;return e?t===n.horizontal?this.thumbsOffset[0]:this.thumbsOffset[1]:0}calculateStepPercent(){const{max:e,min:t,step:i}=this.params;return s/((e-t)/i)}calculateValue(e,t){const{step:i,min:s}=this.params;return e/t*i+s}},N=function(){const{direction:e}=this.model.getParams(),t=e===n.horizontal?n.vertical:n.horizontal;this.DOMroot.classList.remove(`slider_${t}`),this.DOMparent.classList.remove(`slider-parent_${t}`),this.DOMroot.innerHTML=""},B=function(){$(this.DOMroot.classList[0]).off()},H=function(){return this.view.thumbView.subscribe(l.updateThumb,this.updateThumb),this.view.trackView.subscribe(l.updateThumbAfterTrackClick,this.updateThumbAfterTrackClick),this.model.subscribe(l.updateThumbView,this.updateThumbView),this.model.subscribe(l.updateParams,this.updateViewParams),this.model.getParams().hasFill&&(this.model.subscribe(l.updateFillView,this.updateFillView),this.view.thumbView.subscribe(l.updateFill,this.updateFill),this.view.trackView.subscribe(l.updateFill,this.updateFill)),this.model.getParams().hasTips&&this.model.subscribe(l.updateThumbView,this.updateTipView),this.model.getParams().panel&&(this.view.panelView.subscribe(l.updateParams,this.updateModelParams),this.model.subscribe(l.updatePanelValues,this.updatePanelValuesAfterThumbDrag)),this},U=function(e){const t=this.model.getOffset()[e];this.view.tipView.setOffset(e,t),this.view.tipView.updateTipStyle(e)},X=function(){const e=this.model.getFillState();this.view.fillView.setState(e),this.view.fillView.updateFillStyle()},Y=function(){const{isRange:e}=this.model.getParams();return this.view.thumbView.dragAndDropThumb(0),this.view.trackView.clickTrack(),e&&this.view.thumbView.dragAndDropThumb(1),this},W=function(e){this.model.updateThumbAfterTrackClick(e)},G=function(e,t){this.model.updateThumb(e,t)},J=function(){this.model.updateFill()},K=function(e){const t=this.model.getOffset()[e];this.view.thumbView.setOffset(e,t),this.view.thumbView.updateThumbStyle(e),this.view.thumbView.activeStance=e},Q=function(){this.view.thumbView.unsubscribe(l.updateThumb,this.updateThumb),this.view.thumbView.unsubscribe(l.updateFill,this.updateFill),this.view.trackView.unsubscribe(l.updateThumbAfterTrackClick,this.updateThumbAfterTrackClick),this.view.trackView.unsubscribe(l.updateFill,this.updateFill),this.model.unsubscribe(l.updateThumbView,this.updateThumbView),this.model.unsubscribe(l.updateFillView,this.updateFillView),this.model.getParams().hasTips&&this.model.unsubscribe(l.updateThumbView,this.updateTipView),this.model.getParams().panel&&(this.view.panelView.unsubscribe(l.updateParams,this.updateModelParams),this.model.unsubscribe(l.updateParams,this.updateViewParams),this.model.unsubscribe(l.updatePanelValues,this.updatePanelValuesAfterThumbDrag))},Z=function(e){this.model.updateParams(e)},ee=function(){const e=this.model.getParams();this.view.setParams(e),this.rerender(e)},te=function(e){const t=this.model.getValue()[e];0===e?this.view.panelView.firstValueInput.value=String(t):this.view.panelView.secondValueInput.value=String(t)};function ie({min:e,max:t,value:s,decimalPlaces:a,step:l,isRange:n,direction:r,hasFill:h,hasTips:c,hasScale:u,isDecimal:d,panel:o,onChange:m}){const p=null!=e?e:i.min,f=null!=t?t:i.max,b=null!=a?a:i.decimalPlaces,v=null!=l?l:i.step,w=null!=n?n:i.isRange,g=null!=r?r:i.direction,S=null!=h?h:i.hasFill,V=null!=c?c:i.hasTips,P=null!=u?u:i.hasScale,T=null!=d?d:i.isDecimal,O=null!=o?o:i.panel,F=null!=m?m:i.onChange;let D=null!=s?s:i.value;return Array.isArray(D)||(D=[D]),n&&1===D.length&&D.push(D[0]),{min:p,max:f,value:D,decimalPlaces:b,step:v,isRange:w,direction:g,hasFill:S,hasTips:V,hasScale:P,isDecimal:T,panel:O,onChange:F}}const se=class extends e{constructor(e,t){super(),this.params=t,this.DOMroot=e,this.DOMparent=e.parentElement,this.presenter=new class{constructor(e,t,i){this.DOMroot=t,this.DOMparent=i,this.model=new A(this.DOMroot),this.view=new I(this.DOMroot),this.params=e,this.clearHTML=N.bind(this),this.removeListeners=B.bind(this),this.subscribe=H.bind(this),this.unsubscribe=Q.bind(this),this.updateThumbAfterTrackClick=W.bind(this),this.updateThumb=G.bind(this),this.updateFill=J.bind(this),this.updateThumbView=K.bind(this),this.updateTipView=U.bind(this),this.updateFillView=X.bind(this),this.updateModelParams=Z.bind(this),this.updateViewParams=ee.bind(this),this.updatePanelValuesAfterThumbDrag=te.bind(this),this.addListeners=Y.bind(this)}init(){this.setParams(this.params),this.createSlider(),this.params.panel&&this.renderPanel(),this.subscribe(),this.addListeners()}rerender(e){this.setParams(e),this.view.thumbView.thumbs=[],this.view.tipView.tips=[],e.panel&&this.view.panelView.initializePanelsParams(),this.unsubscribe(),this.clearHTML(),this.removeListeners(),this.createSlider(),this.subscribe(),this.addListeners()}setParams(e){this.params=e}getParams(){return this.params}createSlider(){this.addSliderClasses(this.params.direction).setModelState().setViewState().setSubViewsState().renderSlider()}setModelState(){this.model.setParams(this.params);const e=this.model.getParams().direction===n.horizontal?this.DOMroot.offsetWidth:this.DOMroot.offsetHeight;return this.model.setSize(e),this.model.getParams().value.forEach(((e,t)=>{this.model.setOffset(t,this.model.calculateOffset(t))})),this.model.setFillState(this.model.calculateFillState()),this}addSliderClasses(e){return this.DOMroot.classList.add("slider"),this.DOMroot.classList.add("js-slider"),this.DOMroot.classList.add(`slider_${e}`),this.DOMroot.classList.add(`js-slider_${e}`),this.DOMparent.classList.add(`slider-parent_${e}`),this}setViewState(){return this.view.setParams(this.model.getParams()),this.view.setSize(this.model.getSize()),this.view.prepareDirectionForInteraction(this.model.getParams().direction),this}setSubViewsState(){const{hasTips:e,hasFill:t}=this.model.getParams(),i=this.model.getValue(),s=this.model.getFillState();return i.forEach(((t,i)=>{this.setThumbViewState(i),e&&this.setTipViewState(i)})),t&&this.setFillViewState(s),this}setThumbViewState(e){const t=this.model.getOffset()[e];this.view.thumbView.setOffset(e,t)}setFillViewState(e){this.view.fillView.setState(e)}setTipViewState(e){const t=this.model.getOffset()[e];this.view.tipView.setOffset(e,t)}renderSlider(){const{direction:e,hasFill:t,hasScale:i,hasTips:s,isRange:a}=this.model.getParams();this.renderTrack(e),this.renderThumb(0),s&&this.renderTip(0,e),i&&this.renderScale(e),t&&this.renderFill(e),a&&(this.renderThumb(1),s&&this.renderTip(1,e))}renderTrack(e){this.view.trackView.renderTrack(e)}renderThumb(e){this.view.thumbView.renderThumb(e)}renderTip(e,t){this.view.tipView.renderTip(e,t)}renderFill(e){this.view.fillView.renderFill(e)}renderScale(e){const{step:t,max:i,min:s}=this.model.getParams();this.view.scaleView.renderScale(e),this.view.scaleView.renderScaleMarks(t,i,s,e)}renderPanel(){this.view.panelView.renderPanel(this.DOMparent),this.view.panelView.initializePanel(this.DOMparent)}}(this.params,this.DOMroot,this.DOMparent),this.init()}getParams(){return this.params}getContainer(){return this.DOMroot}getParent(){return this.DOMparent}unsubscribe(){this.presenter.unsubscribe()}updateParams(e){this.params=ie(e),this.presenter.model.updateParams(this.getParams())}init(){this.presenter.init(),window.addEventListener("resize",(()=>this.presenter.rerender(this.params))),this.presenter.model.subscribe(l.updateThumbView,this.handleThumbChange.bind(this))}handleThumbChange(){const e=this.presenter.model.getParams();this.params.onChange&&this.params.onChange(e)}};$.fn.extend({slider:function(e){const t=this[0],i=ie(e||{}),s=function(e,t){let i;return i=e.data("firstValue")&&e.data("secondValue")?[Number(e.data("firstValue")),Number(e.data("secondValue"))]:Number(e.data("firstValue"))||Number(e.data("secondValue"))?[Number(e.data("firstValue"))]||0:t.value,{min:Number(e.data("min"))||t.min,max:Number(e.data("max"))||t.max,value:i,decimalPlaces:Number(e.data("decimalPlaces"))||t.decimalPlaces,step:Number(e.data("step"))||t.step,isRange:Boolean(e.data("isRange"))||t.isRange,direction:e.data("direction")||t.direction,hasFill:Boolean(e.data("hasFill"))||t.hasFill,hasTips:Boolean(e.data("hasTips"))||t.hasTips,hasScale:Boolean(e.data("hasScale"))||t.hasScale,isDecimal:Boolean(e.data("isDecimal"))||t.isDecimal,panel:Boolean(e.data("panel"))||t.panel,onChange:t.onChange}}($(t),i);return new se(t,s)}}),document.querySelectorAll('[data-slider="true"]').forEach((e=>{$(e).slider()}))})();